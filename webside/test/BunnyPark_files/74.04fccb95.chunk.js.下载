(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[74],{1371:function(e,t,a){},1494:function(e,t,a){"use strict";a.r(t);var c=a(17),n=a(57),s=a(2),r=a.n(s),i=a(14),o=a(20),l=a(0),b=a(251),u=a(114),j=a(26),d=a(803),O=a(12),f=a(196),m=a(85),p=a(32),x=a(115),v=a(87),h=a(62),y=a(135),C=a(1007),S=a(993),k=a(994),g=a(995),D=a(1005),_=a(957),w=a(997),N=a(996),I=a(958),A=a(959),T=(a(1371),a(6));t.default=Object(d.a)((function(){var e=Object(u.a)("views.Mobile.Income.components"),t=Object(x.a)(),a=Object(p.c)().account,s=Object(v.a)().blockNumber,d=Object(l.useState)(""),B=Object(o.a)(d,2),F=B[0],W=B[1],q=Object(l.useState)(""),M=Object(o.a)(q,2),E=M[0],H=M[1],z=Object(l.useState)(0),J=Object(o.a)(z,2),U=J[0],G=J[1],K=Object(l.useState)(0),V=Object(o.a)(K,2),X=V[0],L=V[1],P=Object(l.useState)([]),Q=Object(o.a)(P,2),R=Q[0],Y=Q[1],Z=Object(l.useState)([]),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(l.useState)([]),ce=Object(o.a)(ae,2),ne=ce[0],se=ce[1],re=Object(l.useState)({}),ie=Object(o.a)(re,2),oe=ie[0],le=ie[1],be=Object(l.useState)(!1),ue=Object(o.a)(be,2),je=ue[0],de=ue[1],Oe=Object(l.useState)(!1),fe=Object(o.a)(Oe,2),me=fe[0],pe=fe[1],xe=Object(l.useState)(!1),ve=Object(o.a)(xe,2),he=ve[0],ye=ve[1],Ce=Object(l.useState)(!1),Se=Object(o.a)(Ce,2),ke=Se[0],ge=Se[1],De=Object(l.useState)(!1),_e=Object(o.a)(De,2),we=_e[0],Ne=_e[1],Ie=Object(l.useState)(!1),Ae=Object(o.a)(Ie,2),Te=Ae[0],Be=Ae[1],Fe=Object(l.useState)(!1),We=Object(o.a)(Fe,2),qe=We[0],Me=We[1],Ee=Object(m.b)(Object(f.a)(Object(O.d)())),He=b.a.isSent,ze=b.a.isDestroy,Je=b.a.setIsSentFalse,Ue=b.a.setIsDestroyFalse,Ge=b.a.fetchBlindBoxCards,Ke=b.a.clearOutOfWordSlot,Ve=b.a.fetchActivationCards,Xe=b.a.getClassicCardHarvest,Le=b.a.harvestAmountForClassic,Pe=b.a.employActivationCard2Slot,Qe=b.a.queryUserCardSlotInformation,Re=b.a.getNumberOfCardSlotsForSeries,Ye=Object(l.useCallback)(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=3;break}return e.next=3,Xe(a,t,1);case 3:case"end":return e.stop()}}),e)}))),[t,a,Xe,s]),Ze=Object(l.useCallback)(Object(i.a)(r.a.mark((function e(){var c,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de(!1),e.next=3,Ge(a,t,1);case 3:return c=e.sent,e.next=6,Ve(a,t,1);case 6:s=e.sent,se(s),L(s.length),i=[].concat(Object(n.a)(c),Object(n.a)(s)).filter((function(e){return e.tokenIds.length})),Y(Object(n.a)(i)),de(!0);case 12:case"end":return e.stop()}}),e)}))),[t,a,Ge,Ve]),$e=Object(l.useCallback)(Object(i.a)(r.a.mark((function e(){var n,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Re(a,t,1);case 3:return i=e.sent,e.next=6,Qe(a,t,1,i);case 6:o=e.sent,n=o.map((function(e){var t=e.expireBlocks.every((function(e){return e>0&&s>0&&e>s}));return Object(c.a)(Object(c.a)({},e),{},{bonus:t})})),te(n),G(i),pe(!0);case 11:case"end":return e.stop()}}),e)}))),[a,s,Re,Qe,t]),et=Object(l.useCallback)(Object(i.a)(r.a.mark((function c(){var n,s,i;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=oe.slotIndex,s=oe.series,i=oe.posIndex,c.prev=1,Me(!1),Ne(!0),c.next=6,Ke(a,t,n,s,i);case 6:return c.next=8,$e();case 8:Ne(!1),ye(!0),W(e("components.DestroySlot.suc","Burn succeed")),c.next=20;break;case 13:c.prev=13,c.t0=c.catch(1),Ne(!1),ye(!1),Be(!0),H(e("components.DestroySlot.fail","Burn failed")),console.error(c.t0);case 20:case"end":return c.stop()}}),c,null,[[1,13]])}))),[a,Ke,oe,$e,e,t]),tt=Object(l.useCallback)(Object(i.a)(r.a.mark((function c(){var n;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==X){c.next=3;break}return ge(!0),c.abrupt("return");case 3:return c.prev=3,Ne(!0),n=ne[0].tokenIds[0],c.next=8,Pe(a,t,n);case 8:return Ne(!1),ye(!0),W(e("DailyCard.activeCardSuc")),c.next=13,Ze();case 13:c.next=22;break;case 15:c.prev=15,c.t0=c.catch(3),Ne(!1),ye(!1),Be(!0),H(e("DailyCard.activeCardFail")),console.error(c.t0);case 22:case"end":return c.stop()}}),c,null,[[3,15]])}))),[X,ne,Pe,a,t,e,Ze]);Object(l.useEffect)((function(){a&&Ze(),He&&(Ze(),Je()),ze&&Ue()}),[a,He,ze,Ze,t,Je,Ue]),Object(l.useEffect)((function(){(a||He)&&Ye()}),[a,He,Ye]),Object(l.useEffect)((function(){(a||ze)&&$e()}),[a,ze,$e]);var at=Object(l.useMemo)((function(){return Object(T.jsx)(g.a,{children:R.map((function(t){return Object(T.jsx)(D.a,{data:{icon:t.isActivation&&"nft/".concat(t.tag,".png")||"common/".concat(t.tag,".png"),name:t.isActivation&&e("SeriesCardWrap.Activation")||e("SeriesCardWrap.".concat(t.tag)),series:1,hideId:!0,type:t.type,onShare:function(){return null},id:t.tokenIds[0],quantity:t.tokenIds.length}},"".concat(t.pos,"-cards"))}))})}),[R,e]),ct=Object(l.useMemo)((function(){var t=[{series:1,icon:"common/f4.png",name:e("SeriesCardWrap.f4")},{series:1,icon:"common/f1.png",name:e("SeriesCardWrap.f1")},{series:1,icon:"common/f3.png",name:e("SeriesCardWrap.f3")},{series:1,icon:"common/f2.png",name:e("SeriesCardWrap.f2")}];return Object(T.jsx)("div",{className:"web-active-card-layout",children:ee.map((function(a,n){return Object(T.jsx)(I.a,{asideText:n+1,tipShow:a.bonus,tipText:"+20% Bonus",children:Object(T.jsx)(g.a,{children:a.expireBlocks.map((function(n,r){var i=n-s,o=n>0&&n<=s;return Object(T.jsx)(D.a,{data:Object(c.a)(Object(c.a)({},t[r]),{},{mini:!0,hideId:!0,clear:o,showAdd:0===n,nameCenter:!0,block:s,disabled:o,slotIndex:a.index,clearCallback:function(){o&&(le(Object(c.a)(Object(c.a)({},t[r]),{},{slotIndex:a.index,series:1,posIndex:r})),Me(!0))},date:n>0&&(i<0?"":Object(h.b)(3*i,s,e("day")))||""})},"".concat(r+1,"-slots-child"))}))})},"".concat(n+1,"-slots"))}))})}),[e,ee,s]),nt=Object(l.useMemo)((function(){if(ne.length>0){var e=ne[0];return"tokenIds"in e?e.tokenIds.length:0}return 0}),[ne]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.a,{children:Object(T.jsx)(k.a,{series:1,type:"classic",balance:Ee,profits:Le,disabled:!Number(Le)})}),Object(T.jsx)(w.a,{name:e("DailyCard.title1")}),!je&&Object(T.jsx)(j.v,{}),je&&R.length>0&&at,je&&0===R.length&&Object(T.jsx)(N.a,{tipsText:e("DailyCard.noCard",""),tip:e("DailyCard.goBlindBox"),link:"/nft/blindbox#daily"}),Object(T.jsxs)(j.k,{alignItems:"center",justifyContent:"space-between",children:[Object(T.jsx)(w.a,{name:e("DailyCard.title2")}),je&&Object(T.jsx)(y.a,{inline:!0,size:"small",onClick:function(){nt>0?tt():ge(!0)},children:e("DailyCard.noActiveCardTip")})]}),!me&&Object(T.jsx)(j.v,{}),me&&U>0&&ct,me&&0===U&&Object(T.jsx)(_.a,{callback:function(e){"active"===e&&tt(),"shopping"===e&&ge(!0)},tipsText:e("DailyCard.buyActiveCardTip"),quantity:nt,button:e(nt?"DailyCard.activateImmediately":"DailyCard.buyActiveCard")}),Object(T.jsx)(C.c,{series:"daily",message:e("DailyCard.noCard"),linkText:e("DailyCard.buyActiveCard","Buy Activation Card"),visible:ke,onDismiss:function(){return ge(!1)}}),Object(T.jsx)(C.b,{visible:he,message:F,onDismiss:function(){return ye(!1)}}),Object(T.jsx)(C.d,{visible:we,onDismiss:function(){return Ne(!1)}}),Object(T.jsx)(C.a,{message:E,visible:Te,onDismiss:function(){return Be(!1)}}),Object(T.jsx)(A.a,{destroyInfo:oe,show:qe,callback:et,close:function(){return Me(!1)}})]})}))},957:function(e,t,a){"use strict";var c=a(0),n=a(135),s=a(6),r=function(e){var t=e.button,a=void 0===t?"":t,r=e.tipsText,i=void 0===r?"":r,o=e.quantity,l=void 0===o?0:o,b=e.callback,u=Object(c.useCallback)((function(){b(l>0?"active":"shopping")}),[l,b]);return Object(s.jsxs)("div",{className:"pc-income-no-active-card",children:[Object(s.jsx)("i",{}),Object(s.jsx)("p",{children:i}),Object(s.jsx)(n.a,{className:"pc-income-no-active-card-btn",inline:!0,size:"small",onClick:u,children:a})]})};t.a=Object(c.memo)(r)},958:function(e,t,a){"use strict";a(0);var c=a(6);t.a=function(e){var t,a=e.tipShow,n=void 0!==a&&a,s=e.children,r=e.tipText,i=e.asideText;return t="number"!==typeof i?i:String(i).padStart(2,"0"),Object(c.jsxs)("div",{className:"web-active-card",children:[Object(c.jsxs)("div",{className:"web-active-card-left",children:[Object(c.jsx)("strong",{children:t}),n&&Object(c.jsx)("span",{className:"web-active-card-left-tips",children:r})]}),Object(c.jsx)("div",{className:"web-active-card-right",children:s})]})}},959:function(e,t,a){"use strict";a(0);var c=a(26),n=a(819),s=a(114),r=a(960),i=a.n(r),o=a(6);t.a=function(e){var t=e.close,a=e.callback,r=e.show,l=void 0!==r&&r,b=e.destroyInfo,u=Object(s.a)("views.Mobile.Income.components.components.DestroySlot"),j=b.icon,d=b.name;return l?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:i.a.layout,children:[Object(o.jsx)(n.a,{pc:!0,size:"16",color:"#fff",className:i.a.close,name:"close-menu.svg",onClick:function(){return t()}}),Object(o.jsx)("h1",{className:i.a.title,children:u("title","title")}),Object(o.jsxs)("div",{className:i.a.subTitle,children:[u("end","end"),Object(o.jsx)("br",{}),u("endAgain","endAgain")]}),Object(o.jsx)("img",{className:i.a.poster,src:res(j),alt:"Holiday"}),Object(o.jsx)("div",{className:i.a.cardName,children:d}),Object(o.jsx)("div",{className:i.a.buttons,children:Object(o.jsx)(c.c,{onClick:function(){a()},scale:"sm",children:u("destroy","destroy")})})]}),Object(o.jsx)("div",{className:i.a.bg})]}):null}},960:function(e,t,a){e.exports={cf:"DestroySlot_cf__2DvqE",buttons:"DestroySlot_buttons__3n1cG",poster:"DestroySlot_poster__1v7WV",layout:"DestroySlot_layout__1uX9N",bg:"DestroySlot_bg__20U-T",close:"DestroySlot_close__20JfH",title:"DestroySlot_title__3bNwt",subTitle:"DestroySlot_subTitle__10rq4",cardName:"DestroySlot_cardName__3HKlF"}}}]);