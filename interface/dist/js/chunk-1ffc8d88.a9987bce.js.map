{"version":3,"sources":["webpack:///./src/views/bank/mortgageMarket/mortgageMarket.vue?42b8","webpack:///./src/views/bank/mortgageMarket/borrowingMarket.vue?dde7","webpack:///src/views/bank/mortgageMarket/borrowingMarket.vue","webpack:///./src/views/bank/mortgageMarket/borrowingMarket.vue?98e8","webpack:///./src/views/bank/mortgageMarket/borrowingMarket.vue","webpack:///./src/views/bank/mortgageMarket/hasBorrow.vue?86b3","webpack:///src/views/bank/mortgageMarket/hasBorrow.vue","webpack:///./src/views/bank/mortgageMarket/hasBorrow.vue?2137","webpack:///./src/views/bank/mortgageMarket/hasBorrow.vue","webpack:///./src/views/bank/mortgageMarket/borrowingMessage.vue?5333","webpack:///src/views/bank/mortgageMarket/borrowingMessage.vue","webpack:///./src/views/bank/mortgageMarket/borrowingMessage.vue?9a0e","webpack:///./src/views/bank/mortgageMarket/borrowingMessage.vue","webpack:///src/views/bank/mortgageMarket/mortgageMarket.vue","webpack:///./src/views/bank/mortgageMarket/mortgageMarket.vue?4961","webpack:///./src/views/bank/mortgageMarket/mortgageMarket.vue","webpack:///./src/views/bank/mortgageMarket/hasBorrow.vue?d7fa","webpack:///./src/views/bank/mortgageMarket/mortgageMarket.vue?b1ba","webpack:///./src/views/bank/mortgageMarket/borrowingMarket.vue?e30a","webpack:///./src/views/bank/mortgageMarket/borrowingMessage.vue?769a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","activeIndex","on","$event","_v","directives","name","rawName","value","expression","staticRenderFns","scopedSlots","_u","key","fn","proxy","_l","item","index","attrs","operateRClick","mortgageMarketTokenArr","slice","currentPage2","pagesize2","scope","_s","row","tokenId","ownerName","_f","rbtAmount","day","Date","expireTime","parseInt","getTime","apy","amount","lend","length","handleSizeChange2","handleCurrentChange2","data","currentPage","pagesize","created","isConnected","methods","handleSizeChange","val","handleCurrentChange","isLiquidation","getData","liquidation","console","log","id","$store","dispatch","then","res","err","borrowAgain","computed","bankTokenArr","state","rainbowBank","records","forEach","nameObj","title","infoArr","detailArr","withdrawa","arr","push","obj","watch","account","component","operateGClick","tableData","myMortgageExpiredArr","mortGageLoan","operateOClick","isShowBorrow","borrowToken","creationTime","mortgageAmount","includeValue","usedAmount","model","orderForm","callback","$$v","$set","isShowTransfer","release","interest","currentData","repayment","mortgageMarket","tokenid","dayRate","initData","changeToken","param","mortgage","address","depositor","myBorrowArr","mortgageRate","num","interestFee","fee","components"],"mappings":"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","file":"js/chunk-1ffc8d88.a9987bce.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mortgageMarket\"},[_c('div',{staticClass:\"mortgageMarket-nav\"},[_c('div',{staticClass:\"mortgageMarket-nav-box\"},[_c('div',{class:{'active':_vm.activeIndex==1},on:{\"click\":function($event){_vm.activeIndex=1}}},[_vm._v(\"我的借款信息\")]),_c('div',{class:{'active':_vm.activeIndex==2},on:{\"click\":function($event){_vm.activeIndex=2}}},[_vm._v(\"我已借出\")]),_c('div',{class:{'active':_vm.activeIndex==3},on:{\"click\":function($event){_vm.activeIndex=3}}},[_vm._v(\"借款市场\")])])]),_c('borrowingMessage',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeIndex==1),expression:\"activeIndex==1\"}]}),_c('hasBorrow',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeIndex==2),expression:\"activeIndex==2\"}]}),_c('borrowingMarket',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeIndex==3),expression:\"activeIndex==3\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"borrowingMarket\"},[_c('RainbowPanel',{scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\" 借款市场 \")]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.bankTokenArr),function(item){return _c('div',{key:item.index},[_c('TableItem',{attrs:{\"tableData\":item,\"operateRName\":\"借给他\"},on:{\"operateRClick\":_vm.operateRClick}})],1)})},proxy:true}])}),_c('RainbowPanel',{staticClass:\"market\",scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\" 借款市场 \")]},proxy:true},{key:\"content\",fn:function(){return [_c('el-table',{attrs:{\"data\":_vm.mortgageMarketTokenArr.slice((_vm.currentPage2-1)*_vm.pagesize2,_vm.currentPage2*_vm.pagesize2)}},[_c('el-table-column',{attrs:{\"label\":\"令牌编号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.tokenId))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"借款人\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.ownerName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"包含RBT数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatNumberTo\")(scope.row.rbtAmount)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"借款金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatNumberTo\")(scope.row.rbtAmount)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"借款时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.day))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"还款时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(new Date(scope.row.expireTime * 1000))))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"剩余天数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(parseInt((scope.row.expireTime * 1000 - (new Date()).getTime()) / 86400000)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"年化利息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.apy))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"利息费\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatNumberTo\")(scope.row.amount * parseInt(scope.row.day) / 360 * scope.row.apy)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"借款\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"button1\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.lend(scope.row.tokenId)}}},[_vm._v(\"借给他\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage2,\"page-sizes\":[5, 10, 20, 40],\"page-size\":_vm.pagesize2,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.mortgageMarketTokenArr.length},on:{\"size-change\":_vm.handleSizeChange2,\"current-change\":_vm.handleCurrentChange2}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!--  借款市场-->\r\n  <div class=\"borrowingMarket\">\r\n    <RainbowPanel>\r\n      <template v-slot:name>\r\n        借款市场\r\n      </template>\r\n      <template v-slot:content>\r\n        <div v-for=\"item in bankTokenArr\" :key=\"item.index\">\r\n          <TableItem :tableData=\"item\" operateRName=\"借给他\" @operateRClick=\"operateRClick\"/>\r\n        </div>\r\n      </template>\r\n    </RainbowPanel>\r\n    <RainbowPanel class=\"market\">\r\n      <template v-slot:name>\r\n        借款市场\r\n      </template>\r\n      <template v-slot:content>\r\n        <el-table :data=\"mortgageMarketTokenArr.slice((currentPage2-1)*pagesize2,currentPage2*pagesize2)\">\r\n          <el-table-column label=\"令牌编号\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row.tokenId }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"借款人\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row.ownerName }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"包含RBT数量\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row.rbtAmount|formatNumberTo }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"借款金额\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row.rbtAmount|formatNumberTo }}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"借款时间\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row.day }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"还款时间\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ new Date(scope.row.expireTime * 1000)|formatDate }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"剩余天数\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ parseInt((scope.row.expireTime * 1000 - (new Date()).getTime()) / 86400000) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"年化利息\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row.apy }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"利息费\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{ scope.row.amount * parseInt(scope.row.day) / 360 * scope.row.apy |formatNumberTo }}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"借款\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\" @click=\"lend(scope.row.tokenId)\" class=\"button1\">借给他</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange2\"\r\n            @current-change=\"handleCurrentChange2\"\r\n            :current-page=\"currentPage2\"\r\n            :page-sizes=\"[5, 10, 20, 40]\"\r\n            :page-size=\"pagesize2\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"mortgageMarketTokenArr.length\">\r\n        </el-pagination>\r\n      </template>\r\n    </RainbowPanel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\nimport Moment from 'moment'\r\n\r\nexport default {\r\n  name: \"borrowingMarket\",\r\n  data() {\r\n    return {\r\n      currentPage: 1, //初始页\r\n      pagesize: 5,    //    每页的数据\r\n      currentPage2: 1, //初始页\r\n      pagesize2: 5,    //    每页的数据\r\n    }\r\n  },\r\n  created() {\r\n    if (this.isConnected) {\r\n      // this.getData()\r\n    }\r\n  },\r\n  methods: {\r\n    operateRClick() {\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pagesize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n    },\r\n    handleSizeChange2(val) {\r\n      this.pagesize2 = val;\r\n    },\r\n    handleCurrentChange2(val) {\r\n      this.currentPage2 = val;\r\n    },\r\n    isLiquidation(token) {\r\n      return ((new Date()).getTime() - token.expireTime * 1000) < 0\r\n    },\r\n    getData() {\r\n      // this.$store.dispatch(\"mortGageLoan/sellRecords\")\r\n    },\r\n    liquidation(id) {//清算\r\n      console.log(id)\r\n      this.$store.dispatch(\"mortGageLoan/liquidation\", id).then(res => {\r\n        console.log(res)\r\n        this.$message.success(\"清算成功\")\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$message.error(\"清算失败\" + err)\r\n      })\r\n    },\r\n    borrowAgain(id) {//再次借款\r\n      this.$store.dispatch(\"mortGageLoan/repayment\", id).then(res => {\r\n        console.log(res)\r\n        this.$message.success(\"再次借款成功\")\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$message.error(\"再次借款失败\" + err)\r\n      })\r\n    },\r\n    lend(id) {//出借\r\n      this.$store.dispatch(\"mortGageLoan/lend\", id).then(res => {\r\n        console.log(res)\r\n        this.$message.success(\"借款成功\")\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$message.error(\"借款失败\" + err)\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'isConnected',\r\n      'account'\r\n    ]),\r\n    mortgageMarketTokenArr() {\r\n      return []\r\n    },\r\n    bankTokenArr() { //发布借款信息表格\r\n      let arr = []\r\n      this.$store.state.rainbowBank.records.forEach((item, index) => {\r\n        let obj = {\r\n          index: index + 1,\r\n          nameObj: {\r\n            title: \"令牌编号\",\r\n            data: item.tokenId\r\n          },\r\n          infoArr: [\r\n            {\r\n              title: \"锁仓类型\",\r\n              data: item.month + \"个月\"\r\n            },\r\n            {\r\n              title: \"包含RBT数量\",\r\n              data: item.amount\r\n            },\r\n            {\r\n              title: \"生成社区治理令牌总额度\",\r\n              data: \"\"\r\n            },\r\n            {\r\n              title: \"目前还可以生成社区治理令牌额度\",\r\n              data: \"\"\r\n            },\r\n          ],\r\n          detailArr: [\r\n            {\r\n              title: \"初始生成人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"现在所有人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"生成时间\",\r\n              data: Moment(item.created_at).format('YYYY-MM-DD')\r\n            },\r\n            {\r\n              title: \"到期时间\",\r\n              data: Moment(item.updated_at).format('YYYY-MM-DD')\r\n            },\r\n          ],\r\n          withdrawa: [\r\n            {\r\n              address: item.depositor,\r\n              tokenid: item.tokenId\r\n\r\n            }\r\n          ]\r\n        }\r\n        arr.push(obj)\r\n\r\n      })\r\n      return arr\r\n    },\r\n  },\r\n  watch: {\r\n    account() {\r\n      // this.getData()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.borrowingMarket {\r\n  .market {\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./borrowingMarket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./borrowingMarket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./borrowingMarket.vue?vue&type=template&id=53c3e76f&scoped=true&\"\nimport script from \"./borrowingMarket.vue?vue&type=script&lang=js&\"\nexport * from \"./borrowingMarket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./borrowingMarket.vue?vue&type=style&index=0&id=53c3e76f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53c3e76f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hasBorrow\"},[_c('RainbowPanel',{scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\" 我已借出的订单 \")]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.bankTokenArr),function(item){return _c('div',{key:item.index},[_c('TableItem',{attrs:{\"tableData\":item,\"operateRName\":\"清算\",\"operateGName\":\"再次借款\"},on:{\"operateRClick\":_vm.operateRClick,\"operateGClick\":_vm.operateGClick}})],1)})},proxy:true}])}),_c('RainbowPanel',{staticClass:\"repayment\",scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\" 已还款订单 \")]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.bankTokenArr),function(item){return _c('div',{key:item.index},[_c('TableItem',{attrs:{\"tableData\":item},on:{\"operateRClick\":_vm.operateRClick}})],1)})},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hasBorrow\">\r\n    <RainbowPanel>\r\n      <template v-slot:name>\r\n        我已借出的订单\r\n      </template>\r\n      <template v-slot:content>\r\n        <div v-for=\"item in bankTokenArr\" :key=\"item.index\">\r\n             <TableItem :tableData=\"item\" operateRName=\"清算\" operateGName=\"再次借款\" @operateRClick=\"operateRClick\"   @operateGClick=\"operateGClick\"/>\r\n          </div>\r\n      </template>\r\n    </RainbowPanel>\r\n    <RainbowPanel class=\"repayment\">\r\n      <template v-slot:name>\r\n        已还款订单\r\n      </template>\r\n      <template v-slot:content>\r\n        <div v-for=\"item in bankTokenArr\" :key=\"item.index\">\r\n             <TableItem :tableData=\"item\"  @operateRClick=\"operateRClick\"/>\r\n          </div>\r\n      </template>\r\n    </RainbowPanel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\nimport Moment from 'moment';\r\n\r\nexport default {\r\n  name: \"hasBorrow\",\r\n  data(){\r\n    return {\r\n\r\n    }\r\n  },\r\n  created() {\r\n    if (this.isConnected) {\r\n      // this.getData()\r\n    }\r\n  },\r\n  methods:{\r\n    operateGClick(){},\r\n     operateRClick(tableData) {\r\n      this.liquidation(tableData.nameObj.data)\r\n    },\r\n    isLiquidation(token){\r\n      return ((new Date()).getTime() -  token.expireTime*1000 ) < 0\r\n    },\r\n    getData() {\r\n      this.$store.dispatch(\"LoanMarket/mortgageMarket\")\r\n    },\r\n    liquidation(id){//清算\r\n      console.log(id)\r\n      this.$store.dispatch(\"LoanMarket/liquidation\",id).then(res=>{\r\n        console.log(res)\r\n        this.$message.success(\"清算成功\")\r\n      }).catch(err=>{\r\n        console.log(err)\r\n        this.$message.error(\"清算失败\" + err)\r\n      })\r\n    },\r\n    borrowAgain(id){//再次借款\r\n      this.$store.dispatch(\"LoanMarket/repayment\",id).then(res=>{\r\n        console.log(res)\r\n        this.$message.success(\"再次借款成功\")\r\n      }).catch(err=>{\r\n        console.log(err)\r\n        this.$message.error(\"再次借款失败\" + err)\r\n      })\r\n    },\r\n    lend(id){//出借\r\n      this.$store.dispatch(\"LoanMarket/mortgageMarket\",id).then(res=>{\r\n        console.log(res)\r\n        this.$message.success(\"再次借款成功\")\r\n      }).catch(err=>{\r\n        console.log(err)\r\n        this.$message.error(\"再次借款失败\" + err)\r\n      })\r\n    }\r\n  },\r\n  computed:{\r\n    ...mapGetters([\r\n      'isConnected',\r\n      'account'\r\n    ]),\r\n    bankTokenArr() { //发布借款信息表格\r\n      let arr = []\r\n      this.$store.state.rainbowBank.records.forEach((item, index) => {\r\n        let obj = {\r\n          index: index + 1,\r\n          nameObj: {\r\n            title: \"令牌编号\",\r\n            data: item.tokenId\r\n          },\r\n          infoArr: [\r\n            {\r\n              title: \"锁仓类型\",\r\n              data: item.month + \"个月\"\r\n            },\r\n            {\r\n              title: \"包含RBT数量\",\r\n              data: item.amount\r\n            },\r\n            {\r\n              title: \"生成社区治理令牌总额度\",\r\n              data: \"\"\r\n            },\r\n            {\r\n              title: \"目前还可以生成社区治理令牌额度\",\r\n              data: \"\"\r\n            },\r\n          ],\r\n          detailArr: [\r\n            {\r\n              title: \"初始生成人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"现在所有人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"生成时间\",\r\n              data: Moment(item.created_at).format('YYYY-MM-DD')\r\n            },\r\n            {\r\n              title: \"到期时间\",\r\n              data: Moment(item.updated_at).format('YYYY-MM-DD')\r\n            },\r\n          ],\r\n          withdrawa: [\r\n            {\r\n              address: item.depositor,\r\n              tokenid: item.tokenId\r\n\r\n            }\r\n          ]\r\n        }\r\n        arr.push(obj)\r\n\r\n      })\r\n        return arr\r\n    },\r\n    myMortgageExpiredArr(){\r\n      return this.$store.state.mortGageLoan.myMortgageExpiredArr\r\n    },\r\n  },\r\n  watch: {\r\n    account() {\r\n      // this.getData()\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.hasBorrow{\r\n  .repayment{\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hasBorrow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hasBorrow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./hasBorrow.vue?vue&type=template&id=02bbc6c8&scoped=true&\"\nimport script from \"./hasBorrow.vue?vue&type=script&lang=js&\"\nexport * from \"./hasBorrow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hasBorrow.vue?vue&type=style&index=0&id=02bbc6c8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02bbc6c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"borrowingMessage\"},[_c('RainbowPanel',{scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\"发布借款信息\")]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.bankTokenArr),function(item){return _c('div',{key:item.index},[_c('TableItem',{attrs:{\"tableData\":item,\"operateRName\":\"发布\"},on:{\"operateRClick\":_vm.operateRClick}})],1)})},proxy:true}])}),_c('RainbowPanel',{staticClass:\"my-borrow\",scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\"我的借款订单\")]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.bankTokenArr),function(item){return _c('div',{key:item.index},[_c('TableItem',{attrs:{\"tableData\":item,\"operateOName\":\"还款\",\"operateGName\":\"再次借款\"},on:{\"operateOClick\":_vm.operateOClick,\"operateGClick\":_vm.operateGClick}})],1)})},proxy:true}])}),_c('RainbowPanel',{staticClass:\"my-borrow\",scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\"我发布的借款订单\")]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.bankTokenArr),function(item){return _c('div',{key:item.index},[_c('TableItem',{attrs:{\"tableData\":item,\"operateRName\":\"撤销\"},on:{\"operateRClick\":_vm.operateRClick}})],1)})},proxy:true}])}),_c('el-dialog',{attrs:{\"title\":\"借款订单\",\"visible\":_vm.isShowBorrow,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.isShowBorrow=$event}}},[_c('div',{staticClass:\"order\"},[_c('div',{staticClass:\"r-intro-box\"},[_c('div',[_c('span',[_vm._v(\"编号\")]),_c('span',[_vm._v(_vm._s(_vm.borrowToken.tokenId))])]),_c('div',[_c('span',[_vm._v(\"生成日期\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(_vm.borrowToken.creationTime * 1000))))])]),_c('div',[_c('span',[_vm._v(\"到期时间\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(_vm.borrowToken.expireTime * 1000))))])]),_c('div',[_c('span',[_vm._v(\"剩余天数\")]),_c('span',[_vm._v(_vm._s(parseInt((_vm.borrowToken.expireTime - _vm.borrowToken.creationTime) / 86400)))])]),_c('div',[_c('span',[_vm._v(\"包含RBT数量\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatNumberTo\")(_vm.borrowToken.mortgageAmount)))])]),_c('div',[_c('span',[_vm._v(\"包含RBT价值\")]),_c('span',[_vm._v(\" $\"+_vm._s(_vm._f(\"formatNumberTo\")(_vm.includeValue)))])]),_c('div',[_c('span',[_vm._v(\"已使用社区治理令牌额度\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatNumberTo\")(_vm.borrowToken.usedAmount > 0 ? _vm.borrowToken.usedAmount : 0)))])]),_c('div',[_c('span',[_vm._v(\"剩余社区治理令牌额度\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatNumberTo\")((_vm.borrowToken.mortgageAmount - _vm.borrowToken.usedAmount))))])])]),_c('div',{staticClass:\"price-box\"},[_c('span',[_vm._v(\"借款金额\")]),_c('div',{staticClass:\"input-box\"},[_c('el-input',{staticClass:\"input2\",attrs:{\"size\":\"mini\"},model:{value:(_vm.orderForm.amount),callback:function ($$v) {_vm.$set(_vm.orderForm, \"amount\", $$v)},expression:\"orderForm.amount\"}})],1)]),_c('div',{staticClass:\"price-box\"},[_c('span',[_vm._v(\"借款时间\")]),_c('div',{staticClass:\"input-box\"},[_c('el-input',{staticClass:\"input2\",attrs:{\"size\":\"mini\"},model:{value:(_vm.orderForm.day),callback:function ($$v) {_vm.$set(_vm.orderForm, \"day\", $$v)},expression:\"orderForm.day\"}}),_vm._v(\" 天 \")],1)]),_c('div',{staticClass:\"price-box\"},[_c('span',[_vm._v(\"年化利息\")]),_c('div',{staticClass:\"input-box\"},[_c('el-input',{staticClass:\"input2\",attrs:{\"size\":\"mini\"},model:{value:(_vm.orderForm.interest),callback:function ($$v) {_vm.$set(_vm.orderForm, \"interest\", $$v)},expression:\"orderForm.interest\"}})],1)]),_c('div',{staticClass:\"intro\"},[_vm._v(\" 转让成功后，将扣除您 \"),_c('span',{staticClass:\"r-p-color\"},[_vm._v(\"5%\")]),_vm._v(\"的平台服务费 \")]),_c('div',{staticClass:\"operating\"},[_c('el-button',{staticClass:\"button3\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.isShowTransfer=false}}},[_vm._v(\"Cancel\")]),_c('el-button',{staticClass:\"button1\",attrs:{\"size\":\"small \"},on:{\"click\":_vm.release}},[_vm._v(\"提交\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"borrowingMessage\">\r\n    <RainbowPanel>\r\n      <template v-slot:name>发布借款信息</template>\r\n      <template v-slot:content>\r\n\r\n        <div v-for=\"item in bankTokenArr\" :key=\"item.index\">\r\n          <TableItem :tableData=\"item\" operateRName=\"发布\" @operateRClick=\"operateRClick\"/>\r\n        </div>\r\n      </template>\r\n    </RainbowPanel>\r\n    <RainbowPanel class=\"my-borrow\">\r\n      <template v-slot:name>我的借款订单</template>\r\n      <template v-slot:content>\r\n\r\n        <div v-for=\"item in bankTokenArr\" :key=\"item.index\">\r\n          <TableItem :tableData=\"item\" operateOName=\"还款\" operateGName=\"再次借款\" @operateOClick=\"operateOClick\"\r\n                     @operateGClick=\"operateGClick\"/>\r\n        </div>\r\n      </template>\r\n    </RainbowPanel>\r\n    <RainbowPanel class=\"my-borrow\">\r\n      <template v-slot:name>我发布的借款订单</template>\r\n      <template v-slot:content>\r\n        <div v-for=\"item in bankTokenArr\" :key=\"item.index\">\r\n          <TableItem :tableData=\"item\" operateRName=\"撤销\" @operateRClick=\"operateRClick\"/>\r\n        </div>\r\n      </template>\r\n    </RainbowPanel>\r\n    <!-- 转让弹窗-->\r\n    <el-dialog\r\n        title=\"借款订单\"\r\n        :visible.sync=\"isShowBorrow\"\r\n        width=\"400px\"\r\n    >\r\n      <div class=\"order\">\r\n        <div class=\"r-intro-box\">\r\n          <div>\r\n            <span>编号</span>\r\n            <span>{{ borrowToken.tokenId }}</span>\r\n          </div>\r\n          <div>\r\n            <span>生成日期</span>\r\n            <span> {{ new Date(borrowToken.creationTime * 1000) | formatDate }}</span>\r\n          </div>\r\n          <div>\r\n            <span>到期时间</span>\r\n            <span> {{ new Date(borrowToken.expireTime * 1000) | formatDate }}</span>\r\n          </div>\r\n          <div>\r\n            <span>剩余天数</span>\r\n            <span>{{ parseInt((borrowToken.expireTime - borrowToken.creationTime) / 86400) }}</span>\r\n          </div>\r\n          <div>\r\n            <span>包含RBT数量</span>\r\n            <span> {{ borrowToken.mortgageAmount|formatNumberTo }}</span>\r\n          </div>\r\n          <div>\r\n            <span>包含RBT价值</span>\r\n            <span> ${{ includeValue |formatNumberTo }}</span>\r\n          </div>\r\n          <div>\r\n            <span>已使用社区治理令牌额度</span>\r\n            <span> {{ borrowToken.usedAmount > 0 ? borrowToken.usedAmount : 0 | formatNumberTo }}</span>\r\n          </div>\r\n          <div>\r\n            <span>剩余社区治理令牌额度</span>\r\n            <span>{{ (borrowToken.mortgageAmount - borrowToken.usedAmount)|formatNumberTo }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"price-box\">\r\n          <span>借款金额</span>\r\n          <div class=\"input-box\">\r\n            <el-input class=\"input2\" size=\"mini\" v-model=\"orderForm.amount\"></el-input>\r\n            <!-- <ChooseToken @changeToken=\"changeToken\"></ChooseToken> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"price-box\">\r\n          <span>借款时间</span>\r\n          <div class=\"input-box\">\r\n            <el-input class=\"input2\" size=\"mini\" v-model=\"orderForm.day\"></el-input>\r\n            天\r\n          </div>\r\n        </div>\r\n        <div class=\"price-box\">\r\n          <span>年化利息</span>\r\n          <div class=\"input-box\">\r\n            <el-input class=\"input2\" size=\"mini\" v-model=\"orderForm.interest\"></el-input>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"price-box\">\r\n          <span>抵押率</span>\r\n          <div class=\"input-box\">\r\n            {{ mortgageRate }}\r\n          </div>\r\n        </div> -->\r\n        <!-- <div class=\"price-box\">\r\n          <span>利息费</span>\r\n          <div class=\"input-box\">\r\n            {{ interestFee }}\r\n          </div>\r\n        </div> -->\r\n        <div class=\"intro\">\r\n          转让成功后，将扣除您 <span class=\"r-p-color\">5%</span>的平台服务费\r\n        </div>\r\n        <div class=\"operating\">\r\n          <el-button size=\"small\" class=\"button3\" @click=\"isShowTransfer=false\">Cancel</el-button>\r\n          <el-button size=\"small \" class=\"button1\" @click=\"release\">提交</el-button>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\nimport Moment from 'moment'\r\n\r\nexport default {\r\n  name: \"borrowingMessage\",\r\n  data() {\r\n    return {\r\n      borrowToken: {},//当前借出令牌信息\r\n      isShowBorrow: false,//是否显示弹窗\r\n      orderForm: {\r\n        amount: 0,\r\n        day: 0,\r\n        interest: 0\r\n      },//订单对象\r\n      currentData: {}\r\n    }\r\n  },\r\n  methods: {\r\n    operateRClick(row) {\r\n      this.isShowBorrow = true\r\n      this.currentData = row\r\n      console.log(row)\r\n    },\r\n    operateOClick(tableData) {\r\n      this.repayment(tableData.mortgageMarket.tokenid)\r\n    },\r\n    operateGClick(tableData) {\r\n      this.borrowAgain(tableData.mortgageMarket.tokenid)\r\n    },\r\n    repayment(tokenId) {//还款\r\n      //this.borrowToken = token\r\n      this.isShowBorrow = true\r\n      this.$store.dispatch(\"LoanMarket/repayment\", {tokenId: tokenId, day: 10, value: 100}).then(res => {\r\n        console.log(res)\r\n        this.$message.success(\"还款成功\")\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$message.error(\"还款失败\" + err)\r\n      })\r\n    },\r\n    borrowAgain(tokenId) {//再次借款\r\n      this.isShowBorrow = true\r\n      this.$store.dispatch(\"LoanMarket/mortgageMarket\", {\r\n        tokenId: tokenId,\r\n        amount: 200,\r\n        day: 10,\r\n        dayRate: 5 / 100\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.$message.success(\"再次借款成功\")\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$message.error(\"再次借款失败\" + err)\r\n      })\r\n    },\r\n    initData() {\r\n      if (!this.isConnected) {\r\n        return;\r\n      }\r\n      this.$store.dispatch(\"rainbowBank/getInfo\").then(() => {\r\n        this.updateTable = true\r\n      })\r\n      // this.$store.dispatch('erc20/balanceOf', {\r\n      //   coinName: \"RBT\",\r\n      //   owner: this.account\r\n      // })\r\n      //this.getRecord()\r\n    },\r\n    changeToken(param) { // 更换token\r\n      console.log(param)\r\n    },\r\n    release() {//发布\r\n\r\n      this.$store.dispatch(\"LoanMarket/mortgageMarket\", {\r\n        tokenId: this.currentData.withdrawa.tokenid,\r\n        amount: this.orderForm.amount,\r\n        day: this.orderForm.day,\r\n        dayRate: this.orderForm.interest\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.$message.success(\"借款成功\")\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$message.error(\"借款失败\" + err)\r\n      })\r\n    },\r\n  },\r\n  // async subOrder() {\r\n\r\n  //       this.isLoading = true\r\n  //       await this.$store.dispatch(\"RbtDeposit721/approve\", {\r\n  //         _to:\"0x0434138b88F83209769C02F0F9f756D9ec2991ea\",\r\n  //         _tokenId: this.borrowToken.tokenId\r\n  //       }).then(() => {\r\n  //         this.mortgage()\r\n  //       }).catch(()=>{\r\n  //         this.isLoading = false\r\n  //         this.$message({\r\n  //           type:'error',\r\n  //           message:'授权失败'\r\n  //         })\r\n  //         return false\r\n  //       })\r\n  //       return\r\n\r\n  // },\r\n  mortgage() {\r\n    this.$store.dispatch(\"LoanMarket/mortgageMarket\", {\r\n      id: this.borrowToken.tokenId,\r\n      amount: this.orderForm.amount,\r\n      day: this.orderForm.day,\r\n      apy: this.orderForm.interest\r\n    }).then(res => {\r\n      console.log(res);\r\n      this.$message.success(\"发布成功\")\r\n      this.isShowBorrow = false\r\n    }).catch(err => {\r\n      console.log(err)\r\n      this.$message.error(\"发布失败\" + err)\r\n    })\r\n  },\r\n  // getData() {\r\n  //   this.$store.dispatch(\"rbtDeposit/getDepositList\")\r\n  // },\r\n\r\n  created() {\r\n    if (this.isConnected) {\r\n      this.initData()\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    account() {\r\n      this.initData()\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'isConnected',\r\n      'account'\r\n    ]),\r\n    bankTokenArr() { //发布借款信息表格\r\n      let arr = []\r\n      this.$store.state.rainbowBank.records.forEach((item, index) => {\r\n        let obj = {\r\n          index: index + 1,\r\n          nameObj: {\r\n            title: \"令牌编号\",\r\n            data: item.tokenId\r\n          },\r\n          infoArr: [\r\n            {\r\n              title: \"锁仓类型\",\r\n              data: item.month + \"个月\"\r\n            },\r\n            {\r\n              title: \"包含RBT数量\",\r\n              data: item.amount\r\n            },\r\n            {\r\n              title: \"生成社区治理令牌总额度\",\r\n              data: \"\"\r\n            },\r\n            {\r\n              title: \"目前还可以生成社区治理令牌额度\",\r\n              data: \"\"\r\n            },\r\n          ],\r\n          detailArr: [\r\n            {\r\n              title: \"初始生成人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"现在所有人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"生成时间\",\r\n              data: Moment(item.created_at).format('YYYY-MM-DD')\r\n            },\r\n            {\r\n              title: \"到期时间\",\r\n              data: Moment(item.updated_at).format('YYYY-MM-DD')\r\n            },\r\n          ],\r\n          withdrawa: {\r\n            address: item.depositor,\r\n            tokenid: item.tokenId\r\n\r\n          }\r\n          ,\r\n          mortgageMarket: [\r\n            {\r\n              address: item.depositor,\r\n              tokenid: item.tokenId\r\n\r\n            }\r\n          ],\r\n        }\r\n        arr.push(obj)\r\n\r\n      })\r\n      return arr\r\n    },\r\n    myBorrowArr() {//发布借款信息表格\r\n      let arr = []\r\n      this.$store.state.rainbowBank.records.forEach((item, index) => {\r\n        let obj = {\r\n          index: index + 1,\r\n          nameObj: {\r\n            title: \"令牌编号\",\r\n            data: item.tokenId\r\n          },\r\n          infoArr: [\r\n            {\r\n              title: \"锁仓类型\",\r\n              data: item.month + \"个月\"\r\n            },\r\n            {\r\n              title: \"包含RBT数量\",\r\n              data: item.amount\r\n            },\r\n            {\r\n              title: \"生成社区治理令牌总额度\",\r\n              data: \"\"\r\n            },\r\n            {\r\n              title: \"目前还可以生成社区治理令牌额度\",\r\n              data: \"\"\r\n            },\r\n          ],\r\n          detailArr: [\r\n            {\r\n              title: \"初始生成人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"现在所有人\",\r\n              data: item.depositor.substr(0, 3) + '...' + item.depositor.substr(item.depositor.length - 3, 3)\r\n            },\r\n            {\r\n              title: \"生成时间\",\r\n              data: Moment(item.created_at).format('YYYY-MM-DD')\r\n            },\r\n            {\r\n              title: \"到期时间\",\r\n              data: Moment(item.updated_at).format('YYYY-MM-DD')\r\n            },\r\n          ],\r\n          withdrawa:\r\n              {\r\n                address: item.depositor,\r\n                tokenid: item.tokenId\r\n\r\n              }\r\n\r\n        }\r\n        arr.push(obj)\r\n\r\n      })\r\n      return arr\r\n    },\r\n    mortgageRate() { // 抵押率 = 借款金额 / 价值\r\n      let num = this.orderForm.amount / this.includeValue\r\n      return num > 0 ? num : 0\r\n    },\r\n    includeValue() {// 抵押令牌包含rbt价值\r\n      return this.borrowToken.mortgageAmount\r\n    },\r\n    interestFee() {//利息费 = 借款金额 * 借款时间（天） * 利息\r\n      let fee = this.orderForm.amount * this.orderForm.day / 360 * this.orderForm.interest\r\n      return fee > 0 ? fee : 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.borrowingMessage {\r\n  .my-borrow {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .order {\r\n    .tip {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      span:first-child {\r\n        color: #736DFF;\r\n      }\r\n    }\r\n\r\n    > div {\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .price-box {\r\n      width: 380px;\r\n      background: #f8f8f8;\r\n      border: 1px solid #eaeaea;\r\n      border-radius: 11px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 6px 20px;\r\n\r\n      .input-box {\r\n        width: 260px;\r\n        height: 30px;\r\n        align-items: center;\r\n        padding: 0 10px;\r\n        background: #ffffff;\r\n        border: 1px solid #eaeaea;\r\n        border-radius: 6px;\r\n        display: flex;\r\n\r\n        ::v-deep .el-input__inner {\r\n          padding: 0 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    .operating {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      .el-button {\r\n        width: 150px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./borrowingMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./borrowingMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./borrowingMessage.vue?vue&type=template&id=373f44e4&scoped=true&\"\nimport script from \"./borrowingMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./borrowingMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./borrowingMessage.vue?vue&type=style&index=0&id=373f44e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"373f44e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!--  抵押借款市场-->\r\n  <div class=\"mortgageMarket\">\r\n    <div class=\"mortgageMarket-nav\">\r\n      <div class=\"mortgageMarket-nav-box\">\r\n        <div :class=\"{'active':activeIndex==1}\" @click=\"activeIndex=1\">我的借款信息</div>\r\n        <div :class=\"{'active':activeIndex==2}\" @click=\"activeIndex=2\">我已借出</div>\r\n        <div :class=\"{'active':activeIndex==3}\" @click=\"activeIndex=3\">借款市场</div>\r\n      </div>\r\n    </div>\r\n    <borrowingMessage v-show=\"activeIndex==1\"/>\r\n    <hasBorrow v-show=\"activeIndex==2\"/>\r\n    <borrowingMarket v-show=\"activeIndex==3\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport borrowingMarket from \"@/views/bank/mortgageMarket/borrowingMarket\";\r\nimport hasBorrow from \"@/views/bank/mortgageMarket/hasBorrow\";\r\nimport borrowingMessage from \"@/views/bank/mortgageMarket/borrowingMessage\";\r\nexport default {\r\n  name: \"mortgageMarket\",\r\n  components:{borrowingMarket,borrowingMessage,hasBorrow},\r\n  data() {\r\n    return {\r\n      activeIndex: 1\r\n    }\r\n  },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.mortgageMarket {\r\n\r\n  .mortgageMarket-nav {\r\n\r\n    width: 1200px;\r\n    margin: 50px auto 0;\r\n    .mortgageMarket-nav-box{\r\n      display: flex;\r\n      width: 420px;\r\n      height: 40px;\r\n      background: #f2e5f7;\r\n      border: 1px solid rgba(165,25,187,0.20);\r\n      border-radius: 10px;\r\n      font-size: 12px;\r\n      >div{\r\n        width: 160px;\r\n        text-align: center;\r\n        margin-left: -1px;\r\n        font-weight: 400;\r\n        color: #a519bb;\r\n        line-height: 17px;\r\n        padding: 10px 14px;\r\n        cursor: pointer;\r\n      }\r\n      .active {\r\n        color: #fff;\r\n        background: linear-gradient(270deg,#a519bb, #ec0b6a);\r\n        border-radius: 10px;\r\n        box-shadow: 0px 3px 6px 0px rgba(128,4,149,0.30);\r\n      }\r\n    }\r\n\r\n\r\n\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mortgageMarket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mortgageMarket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mortgageMarket.vue?vue&type=template&id=e0be9b9e&scoped=true&\"\nimport script from \"./mortgageMarket.vue?vue&type=script&lang=js&\"\nexport * from \"./mortgageMarket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mortgageMarket.vue?vue&type=style&index=0&id=e0be9b9e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0be9b9e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hasBorrow.vue?vue&type=style&index=0&id=02bbc6c8&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mortgageMarket.vue?vue&type=style&index=0&id=e0be9b9e&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./borrowingMarket.vue?vue&type=style&index=0&id=53c3e76f&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./borrowingMessage.vue?vue&type=style&index=0&id=373f44e4&lang=scss&scoped=true&\""],"sourceRoot":""}