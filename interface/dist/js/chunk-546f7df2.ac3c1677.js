(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-546f7df2"],{1148:function(t,e,n){"use strict";var o=n("a691"),a=n("1d80");t.exports=function(t){var e=String(a(this)),n="",i=o(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},1879:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sourceOfIncome"},[n("div",{staticClass:"rainbow-fund-keep"},[n("RainbowPanel",{scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" RBT财政部收入公示 ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"fund-distribution-content"},[n("div",{staticClass:"distribution-list"},[n("el-table",{attrs:{data:t.tableData,border:"","default-expand-all":"","show-summary":"","summary-method":t.getSummaries}},[n("el-table-column",{attrs:{prop:"name",label:"类型",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[n("div",{staticClass:"idx"},[t._v(t._s(e.$index+1))]),t._v(" "+t._s(e.row.name)+" ")])}}])}),n("el-table-column",{attrs:{prop:"weekIncome",label:"本周收入($)",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[t._v(" "+t._s(t._f("formatNumberTo")(e.row.weekIncome))+" ")])}}])}),n("el-table-column",{attrs:{prop:"monthIncome",label:"本月收入($)"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[t._v(" "+t._s(t._f("formatNumberTo")(e.row.monthIncome))+" ")])}}])}),n("el-table-column",{attrs:{prop:"totalIncome",label:"总收入($)"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[t._v(" "+t._s(t._f("formatNumberTo")(e.row.totalIncome))+" ")])}}])}),n("el-table-column",{attrs:{label:"账户明细"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.type<6?[n("el-button",{staticClass:"button-view",attrs:{size:"mini"},on:{click:function(n){return t.viewDetail(e.$index,e.row)}}},[t._v("查看 ")])]:void 0}}],null,!0)})],1)],1)]),n("el-button",{staticClass:"button1",attrs:{size:"small"},on:{click:function(e){t.isShowDistribute=!0}}},[t._v("分配")])]},proxy:!0}])}),n("el-dialog",{attrs:{title:"分配详情",visible:t.isShowDistribute,width:"400px"},on:{"update:visible":function(e){t.isShowDistribute=e}}},[n("div",{staticClass:"distribute"},[[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData3}},[n("el-table-column",{attrs:{prop:"direct",width:"150px;",label:"分配方向"}}),n("el-table-column",{attrs:{prop:"secondRatio",label:"占比"}})],1)],n("div",{staticClass:"operating"},[n("el-button",{staticClass:"button3",attrs:{size:"small"},on:{click:function(e){t.isShowDistribute=!1}}},[t._v("Cancel")]),n("el-button",{staticClass:"button1",attrs:{size:"small "},on:{click:t.allot}},[t._v("分配")])],1)],2)])],1),n("div",{staticClass:"fund-distribution"},[n("RainbowPanel",{scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" RBT基金会生态分配 ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"fund-distribution-content"},[n("div",{staticClass:"distribution-list"},[n("el-table",{attrs:{data:t.tableData2,border:"","default-expand-all":""}},[n("el-table-column",{attrs:{prop:"name",label:"类型",align:"center"}}),n("el-table-column",{attrs:{prop:"ratio",label:"分配比率",align:"center"}}),n("el-table-column",{attrs:{align:"center",label:"账户余额($)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.balance)+" ")]}}])})],1)],1),n("div",{staticClass:"distribution-list"},[n("el-table",{staticClass:"table2",attrs:{data:t.tableData3,border:"","default-expand-all":"","span-method":t.objectSpanMethod}},[n("el-table-column",{attrs:{prop:"name",label:"类型",width:"180"}}),n("el-table-column",{attrs:{prop:"firstRatio",label:"分配比率",width:"120"}}),n("el-table-column",{attrs:{prop:"direct",width:"180",label:"分配方向"}}),n("el-table-column",{attrs:{prop:"secondRatio",label:"占比"}}),n("el-table-column",{attrs:{label:"账户余额($)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.balance)+" ")]}}])})],1)],1)])]},proxy:!0}])})],1)])},a=[],i=n("5530"),r=(n("159b"),n("d81d"),n("a9e3"),n("b680"),n("2f62")),c={name:"sourceOfIncome",data:function(){return{zoologyNum:0,isShowDistribute:!1,tableData:[{name:"RBT生态税收收入",weekIncome:0,monthIncome:0,totalIncome:0,type:1},{name:"RBT共识挖矿收入",weekIncome:0,monthIncome:0,totalIncome:0,type:2},{name:"全球vip生态居民收入",weekIncome:0,monthIncome:0,totalIncome:0,type:3},{name:"彩虹交易所收入",weekIncome:0,monthIncome:0,totalIncome:0,type:4},{name:"彩虹银行收入",weekIncome:0,monthIncome:0,totalIncome:0,type:5}],tableData2:[{name:"彩虹城生态基金会",ratio:"20%",balance:0}],tableData3:[{name:"财政部分配",firstRatio:"80%",direct:"创始及管理团队",secondRatio:"20%",balance:0,index:0},{direct:"社区治理基金",secondRatio:"20%",balance:0},{direct:"时间周期锁仓分红收入",secondRatio:"20%",balance:0},{direct:"社区治理锁仓分红收入",secondRatio:"20%",balance:0},{direct:"社区生态奖励基金",secondRatio:"5%",balance:0},{direct:"社区生态孵化基金",secondRatio:"5%",balance:0},{direct:"社区生态慈善基金",secondRatio:"5%",balance:0},{direct:"二级市场回购",secondRatio:"5%",balance:0},{direct:"汇总",secondRatio:"100%",balance:0}]}},computed:Object(i["a"])(Object(i["a"])({},Object(r["b"])(["isConnected","account"])),{},{incomeLog:function(){return this.$store.state.incomeSource.incomeLog},receives:function(){return this.$store.state.incomeSource.receives},weekAmount:function(){return this.$store.state.incomeSource.weekAmount},monthAmount:function(){return this.$store.state.incomeSource.monthAmount}}),watch:{isConnected:function(){this.initData()}},created:function(){this.initData()},methods:{initData:function(){var t=this;if(this.isConnected){if(this.isConnected){var e=new Date;console.log(e);var n={year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()};console.log(n),this.$store.dispatch("incomeSource/getReceiveList",{tokenAddress:"0xbb25bebf85652dd247afc91054fbd85eb16a46a1",source:11}).then((function(){t.tableData[0].totalIncome=t.$decimal(t.receives.amount),console.log(t.receives)})),this.$store.dispatch("incomeSource/getWeekReceiveList",{tokenAddress:"0xbb25bebf85652dd247afc91054fbd85eb16a46a1",source:11}).then((function(){t.tableData[0].weekIncome=t.weekAmount,console.log(t.weekAmount)})),this.$store.dispatch("incomeSource/getMonthReceiveList",{tokenAddress:"0xbb25bebf85652dd247afc91054fbd85eb16a46a1",source:11}).then((function(){t.tableData[0].monthIncome=t.monthAmount,console.log(t.monthAmount)}))}}else this.$message("请先连接钱包")},getSummaries:function(t){var e=this,n=t.columns,o=t.data,a=[];return n.forEach((function(t,n){if(0!==n){var i=o.map((function(e){return Number(e[t.property])}));i.every((function(t){return isNaN(t)}))?a[n]="":(a[n]=i.reduce((function(t,n){var o=e.$decimal(n);return isNaN(o)?e.$decimal(t).toFixed(2):e.$decimal(t).add(e.$decimal(n)).toFixed(2)}),0),a[n]+=" ")}else a[n]=" 财政部总收入"})),a},toFoundation:function(t){var e=this;console.log(t),this.$store.dispatch("incomeSource/toFoundation",t).then((function(t){null!=t&&e.$message("成功归集到基金会！")}))},allot:function(){var t=this;this.$store.dispatch("incomeSource/allot").then((function(e){null!=e&&(t.isShowDistribute=!1,t.$message("分配成功"),t.initData())})).catch((function(){t.$message("分配失败")}))},received:function(){var t=this;this.$store.dispatch("incomeSource/received").then((function(e){null!=e&&t.$message("领取成功")}))},goTo:function(t){this.$router.push(t)},viewDetail:function(){this.$message("努力开发中，敬请期待！")},objectSpanMethod:function(t){var e=t.rowIndex,n=t.columnIndex;return 0==n||1==n?0==e?{rowspan:9,colspan:1}:{rowspan:0,colspan:0}:void 0}}},s=c,l=(n("608e"),n("2877")),u=Object(l["a"])(s,o,a,!1,null,"5ab77faa",null);e["default"]=u.exports},3429:function(t,e,n){},"408a":function(t,e,n){var o=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=o(t))throw TypeError("Incorrect invocation");return+t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var o=n("1d80"),a=n("5899"),i="["+a+"]",r=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"608e":function(t,e,n){"use strict";n("3429")},a9e3:function(t,e,n){"use strict";var o=n("83ab"),a=n("da84"),i=n("94ca"),r=n("6eeb"),c=n("5135"),s=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),f=n("7c73"),m=n("241c").f,b=n("06cf").f,h=n("9bf2").f,p=n("58a8").trim,v="Number",w=a[v],g=w.prototype,I=s(f(g))==v,_=function(t){var e,n,o,a,i,r,c,s,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=p(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+l}for(i=l.slice(2),r=i.length,c=0;c<r;c++)if(s=i.charCodeAt(c),s<48||s>a)return NaN;return parseInt(i,o)}return+l};if(i(v,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var S,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(I?d((function(){g.valueOf.call(n)})):s(n)!=v)?l(new w(_(e)),n,k):_(e)},x=o?m(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),y=0;x.length>y;y++)c(w,S=x[y])&&!c(k,S)&&h(k,S,b(w,S));k.prototype=g,g.constructor=k,r(a,v,k)}},b680:function(t,e,n){"use strict";var o=n("23e7"),a=n("a691"),i=n("408a"),r=n("1148"),c=n("d039"),s=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},d=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=function(t,e,n){var o=-1,a=n;while(++o<6)a+=e*t[o],t[o]=a%1e7,a=l(a/1e7)},m=function(t,e){var n=6,o=0;while(--n>=0)o+=t[n],t[n]=l(o/e),o=o%e*1e7},b=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var o=String(t[e]);n=""===n?o:n+r.call("0",7-o.length)+o}return n},h=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));o({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,n,o,c,s=i(this),l=a(t),h=[0,0,0,0,0,0],p="",v="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(p="-",s=-s),s>1e-21)if(e=d(s*u(2,69,1))-69,n=e<0?s*u(2,-e,1):s/u(2,e,1),n*=4503599627370496,e=52-e,e>0){f(h,0,n),o=l;while(o>=7)f(h,1e7,0),o-=7;f(h,u(10,o,1),0),o=e-1;while(o>=23)m(h,1<<23),o-=23;m(h,1<<o),f(h,1,1),m(h,2),v=b(h)}else f(h,0,n),f(h,1<<-e,0),v=b(h)+r.call("0",l);return l>0?(c=v.length,v=p+(c<=l?"0."+r.call("0",l-c)+v:v.slice(0,c-l)+"."+v.slice(c-l))):v=p+v,v}})},d81d:function(t,e,n){"use strict";var o=n("23e7"),a=n("b727").map,i=n("1dde"),r=i("map");o({target:"Array",proto:!0,forced:!r},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-546f7df2.ac3c1677.js.map