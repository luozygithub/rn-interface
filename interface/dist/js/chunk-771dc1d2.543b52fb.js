(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-771dc1d2"],{"448e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"incomeDistribution"},[n("div",{staticClass:"rainbow-fund-keep"},[n("RainbowPanel",{scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" 彩虹城生态基金会 ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"fund-content"},[n("SimplePanel",{staticClass:"fund-keep-box1",scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" 本周分配收入(10.1-10.7) ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"area"},[n("div",{staticClass:"area-child"},[n("div",[n("div",{staticClass:"r-font-color"},[t._v(" $ "+t._s((20*t.RBTFoundation.weekIncome/100).toFixed(4))+" ")]),n("span",{staticClass:"detail r-g-color"},[t._v(" +$ "+t._s((20*t.RBTFoundation.todayIncome/100).toFixed(2))+" ")])])])])]},proxy:!0}])}),n("SimplePanel",{staticClass:"fund-keep-box2",scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" 本月分配收入(10.1-10.7) ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"area"},[n("div",{staticClass:"area-child"},[n("div",[n("div",{staticClass:"r-font-color"},[t._v(" $ "+t._s((20*t.RBTFoundation.monthIncome/100).toFixed(4))+" ")]),n("span",{staticClass:"detail r-g-color"},[t._v(" +$ "+t._s((20*t.RBTFoundation.todayIncome/100).toFixed(2))+" ")])])])])]},proxy:!0}])}),n("SimplePanel",{staticClass:"fund-keep-box3",scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" 历史总分配 ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"area"},[n("div",{staticClass:"area-child"},[n("div",[n("div",{staticClass:"r-font-color"},[t._v(" $ "+t._s((20*t.RBTFoundation.totalIncome/100).toFixed(4))+" ")]),n("span",{staticClass:"detail r-g-color"},[t._v(" +$ "+t._s((20*t.RBTFoundation.todayIncome/100).toFixed(2))+" ")])])])])]},proxy:!0}])})],1)]},proxy:!0}])})],1),n("div",{staticClass:"fund-distribution"},[n("RainbowPanel",{scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" RBT基金会生态分配 ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"fund-distribution-content"},[n("div",{staticClass:"fund-content"},[n("SimplePanel",{staticClass:"fund-keep-box1",scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" 本周分配收入(10.1-10.7) ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"area"},[n("div",{staticClass:"area-child"},[n("div",[n("div",{staticClass:"r-font-color"},[t._v(" $ "+t._s(t.RBTFoundation.weekIncome.toFixed(4))+" ")]),n("span",{staticClass:"detail r-g-color"},[t._v(" +$ "+t._s(t.RBTFoundation.todayIncome.toFixed(2))+" ")])])])])]},proxy:!0}])}),n("SimplePanel",{staticClass:"fund-keep-box2",scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" 本月分配收入(10.1-10.7) ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"area"},[n("div",{staticClass:"area-child"},[n("div",[n("div",{staticClass:"r-font-color"},[t._v(" $ "+t._s(t.RBTFoundation.monthIncome.toFixed(4))+" ")]),n("span",{staticClass:"detail r-g-color"},[t._v(" +$ "+t._s(t.RBTFoundation.todayIncome.toFixed(2))+" ")])])])])]},proxy:!0}])}),n("SimplePanel",{staticClass:"fund-keep-box3",scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" 历史总分配 ")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"area"},[n("div",{staticClass:"area-child"},[n("div",[n("div",{staticClass:"r-font-color"},[t._v(" $ "+t._s(t.RBTFoundation.totalIncome.toFixed(4))+" ")]),n("span",{staticClass:"detail r-g-color"},[t._v(" +$ "+t._s(t.RBTFoundation.todayIncome.toFixed(2))+" ")])])])])]},proxy:!0}])})],1),n("div",{staticClass:"distribution-list"},[n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","default-expand-all":"","show-summary":"","summary-method":t.getSummaries}},[n("el-table-column",{attrs:{prop:"type",label:"类型",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[n("div",{staticClass:"idx"},[t._v(t._s(e.$index+1))]),t._v(" "+t._s(e.row.type)+" ")])}}])}),n("el-table-column",{attrs:{prop:"percentage",label:"分配占比(%)"}}),n("el-table-column",{attrs:{prop:"weekIncome",label:"本周收入"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[t._v(" "+t._s(t._f("formatNumber")(e.row.weekIncome))+" ")])}}])}),n("el-table-column",{attrs:{prop:"incomeTotal",label:"分配总收入"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[t._v(" "+t._s(t._f("formatNumber")(e.row.incomeTotal))+" ")])}}])}),n("el-table-column",{attrs:{label:"资金明细"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"button-view",attrs:{size:"mini"},on:{click:function(n){return t.viewDetail(e.$index,e.row)}}},[t._v("查看 ")])]}}])}),n("el-table-column",{attrs:{prop:"balance",label:"账户余额"}}),n("el-table-column",{attrs:{label:"资金转换"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"button1",attrs:{size:"mini"},on:{click:function(n){return t.fundConversion(e.$index,e.row)}}},[t._v("转换 ")])]}}])}),n("el-table-column",{attrs:{prop:"balanceRBT",label:"RBT余额"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[t._v(" "+t._s(t._f("formatNumber")(e.row.balanceRBT))+" ")])}}])})],1)],1)])]},proxy:!0}])})],1)])},o=[],i=n("5530"),c=(n("159b"),n("d81d"),n("a9e3"),n("2f62")),s={name:"incomeDistribution",data:function(){return{RBTFoundation:{weekIncome:0,monthIncome:0,totalIncome:0,todayIncome:0},tableData:[{type:"创始及管理团队",percentage:20,weekIncome:0,incomeTotal:0,balance:56.65,balanceRBT:12e3},{type:"社区治理基金",percentage:20,weekIncome:1205,incomeTotal:1320,balance:56.65,balanceRBT:12e3,contractAddress:"0xEBC914dC4a563eA6dDEe65616c2C71Ba65F96644"},{type:"时间周期锁仓分红收入",percentage:20,weekIncome:1205,incomeTotal:1320,balance:56.65,balanceRBT:12e3,contractAddress:"0xEBC914dC4a563eA6dDEe65616c2C71Ba65F96644"},{type:"社区治理锁仓分红收入",percentage:20,weekIncome:1205,incomeTotal:1320,balance:56.65,balanceRBT:12e3,contractAddress:"0xEBC914dC4a563eA6dDEe65616c2C71Ba65F96644"},{type:"社区生态奖励基金",percentage:5,weekIncome:1205,incomeTotal:1320,balance:56.65,balanceRBT:12e3,contractAddress:"0xEBC914dC4a563eA6dDEe65616c2C71Ba65F96644"},{type:"社区生态孵化基金",percentage:5,weekIncome:1205,incomeTotal:1320,balance:56.65,balanceRBT:12e3,contractAddress:"0xEBC914dC4a563eA6dDEe65616c2C71Ba65F96644"},{type:"社区生态慈善基金",percentage:5,weekIncome:1205,incomeTotal:1320,balance:56.65,balanceRBT:12e3,contractAddress:"0xEBC914dC4a563eA6dDEe65616c2C71Ba65F96644"},{type:"回购销毁",percentage:5,weekIncome:1205,incomeTotal:1320,balance:56.65,balanceRBT:12e3,contractAddress:"0xEBC914dC4a563eA6dDEe65616c2C71Ba65F96644"}]}},computed:Object(i["a"])({},Object(c["b"])(["isConnected","account"])),watch:{account:function(){this.initData()},isConnected:function(){this.initData()}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.isConnected?this.isConnected&&(this.$store.dispatch("incomeDistribution/getPastEvents",{contractName:"FoundationToken",eventName:"IncomeAllot"}).then((function(e){var n=t.$decimal(e.week_amount).div(Math.pow(10,18));console.log(n),t.RBTFoundation.weekIncome=t.$decimal(e.week_amount).div(Math.pow(10,18)),t.RBTFoundation.monthIncome=t.$decimal(e.month_amount).div(Math.pow(10,18)),t.RBTFoundation.totalIncome=t.$decimal(e.total_amount).div(Math.pow(10,18)),t.RBTFoundation.todayIncome=t.$decimal(e.today_amount).div(Math.pow(10,18))})),this.$store.dispatch("incomeDistribution/getOncePastEvents",{contractName:"FoundationToken",eventName:"IncomeAllot",addr:"ManageTeam"}).then((function(e){t.tableData[0].weekIncome=t.$decimal(e.week_amount).div(Math.pow(10,18)),t.tableData[0].incomeTotal=t.$decimal(e.total_amount).div(Math.pow(10,18))})),this.$store.dispatch("incomeSource/getRbtBalance","ManageTeam").then((function(e){t.tableData[0].balanceRBT=t.$decimal(e)})),this.$store.dispatch("incomeSource/getRbtBalance","CyCleLockIncome").then((function(e){t.tableData[2].balanceRBT=t.$decimal(e)}))):this.$message("请先连接钱包")},viewDetail:function(){},fundConversion:function(){},getSummaries:function(t){var e=this,n=t.columns,a=t.data,o=[];return n.forEach((function(t,n){if(0!==n)if(1!==n){var i=a.map((function(e){return Number(e[t.property])}));i.every((function(t){return isNaN(t)}))?o[n]="":(o[n]=i.reduce((function(t,n){var a=e.$decimal(n);return isNaN(a)?e.$decimal(t):e.$decimal(t).add(e.$decimal(n))}),0),o[n]+=" ")}else o[n]="";else o[n]="汇总"})),o}}},r=s,l=(n("aba1"),n("2877")),d=Object(l["a"])(r,a,o,!1,null,null,null);e["default"]=d.exports},"546f":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),o=n("5899"),i="["+o+"]",c=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),r=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:r(1),end:r(2),trim:r(3)}},a9e3:function(t,e,n){"use strict";var a=n("83ab"),o=n("da84"),i=n("94ca"),c=n("6eeb"),s=n("5135"),r=n("c6b6"),l=n("7156"),d=n("c04e"),u=n("d039"),f=n("7c73"),m=n("241c").f,p=n("06cf").f,v=n("9bf2").f,b=n("58a8").trim,_="Number",C=o[_],y=C.prototype,h=r(f(y))==_,k=function(t){var e,n,a,o,i,c,s,r,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+l}for(i=l.slice(2),c=i.length,s=0;s<c;s++)if(r=i.charCodeAt(s),r<48||r>o)return NaN;return parseInt(i,a)}return+l};if(i(_,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var x,I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(h?u((function(){y.valueOf.call(n)})):r(n)!=_)?l(new C(k(e)),n,I):k(e)},T=a?m(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;T.length>w;w++)s(C,x=T[w])&&!s(I,x)&&v(I,x,p(C,x));I.prototype=y,y.constructor=I,c(o,_,I)}},aba1:function(t,e,n){"use strict";n("546f")},d81d:function(t,e,n){"use strict";var a=n("23e7"),o=n("b727").map,i=n("1dde"),c=i("map");a({target:"Array",proto:!0,forced:!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-771dc1d2.543b52fb.js.map